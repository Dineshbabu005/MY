<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css">
    <title>Project</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
</head>
<body>
    <nav>
        <div class="nav-container">
            <div class="logo" data-aos="zoom-in" data-aos-duration="1000">
                <span>DreamZ</span>
            </div>
            <div class="links">
                <div class="link" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="100">
                    <a href="index.html">Home</a>
                </div>
                <div class="link" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="200">
                    <a href="about.html">About</a>
                </div>
                <div class="link" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="300">
                    <a href="skills.html">Skills</a>
                </div>
                <div class="link" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="400">
                    <a href="services page.html">Services</a>
                </div>
                <div class="link" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="500">
                    <a href="project.html">Projects</a>
                </div>
                <div class="link contact-btn" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="600">
                    <a href="contactme.html">Contact Us</a>
                </div>
            </div>
            <i class="fa-solid fa-bars hamburg" onclick="hamburg()"></i>
        </div>
        <div class="dropdown">
            <div class="links">
                <a href="index.html">Home</a>
                <a href="about.html">About</a>
                <a href="skills.html">Skills</a>
                <a href="services page.html">Services</a>
                <a href="project.html">Projects</a>
                <a href="contactme.html">Contact Us</a>
                <i class="fa-solid fa-xmark cancel" onclick="cancel()"></i>
            </div>
        </div>
    </nav>

    <section>
        <div class="container">
            <div class="header">
                <h1>Dynamic Project Portfolio</h1>
                <p>Website ✦ Twitter ✦ CV ✦ Blog</p>
            </div>

            <div class="auth-section">
                <input type="password" id="owner-password" placeholder="Enter owner password">
                <button onclick="authenticateOwner()">Login as Owner</button>
                <button onclick="logout()">Logout</button>
            </div>

            <div class="upload-form" id="upload-form" style="display: none;">
                <input type="text" id="project-title" placeholder="Project Title">
                <input type="text" id="project-date" placeholder="Project Date">
                <input type="text" id="project-tags" placeholder="Tags (comma-separated)">
                <input type="text" id="project-link" placeholder="Project Link (URL)">
                <input type="url" id="project-image-url" placeholder="Project Image URL (optional)">
                <input type="file" id="project-image" accept="image/*" style="display:none;">
                <button onclick="addProject()">Add Project</button>
            </div>

            <div class="grid" id="project-grid">
                <!-- Project 1 -->
        <div class="project-card">
            <img src="https://example.com/project-image1.jpg" alt="Project 1">
            <div class="project-details">
                <h3>Project 1</h3>
                <p class="project-date">January 2024</p>
                <div class="project-tags">
                    <span class="tag">Web Development</span>
                    <span class="tag">HTML</span>
                    <span class="tag">CSS</span>
                </div>
                <a href="https://example.com" target="_blank">View Project</a>
            </div>
        </div>
                <!-- Dynamic content will be inserted here -->
            </div>
        </div>
    </section>

    <script>
        const OWNER_PASSWORD = "Spds@005"; // Replace with your desired password
        let projects = JSON.parse(localStorage.getItem('projects')) || [];
        let isOwner = false;

        const projectGrid = document.getElementById('project-grid');
        const uploadForm = document.getElementById('upload-form');
        const imageInput = document.getElementById('project-image');
        const imageUrlInput = document.getElementById('project-image-url');

        function authenticateOwner() {
            const password = document.getElementById('owner-password').value;
            if (password === OWNER_PASSWORD) {
                isOwner = true;
                uploadForm.style.display = 'block';
                renderProjects();
                alert('Logged in as Owner');
            } else {
                alert('Incorrect password');
            }
        }

        function logout() {
            isOwner = false;
            uploadForm.style.display = 'none';
            renderProjects();
            alert('Logged out');
        }

        function renderProjects() {
            projectGrid.innerHTML = '';
            projects.forEach((project, index) => {
                const card = document.createElement('div');
                card.className = 'card';

                card.innerHTML = `
                    <a href="${project.link}" target="_blank">
                        <img src="${project.image}" alt="${project.title}">
                    </a>
                    <div class="card-content">
                        <h3 class="card-title">${project.title}</h3>
                        <p class="card-date">${project.date}</p>
                        <div class="card-tags">
                            ${project.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                        </div>
                    </div>
                    ${isOwner ? `<button class="delete-btn" onclick="deleteProject(${index})">Delete</button>` : ''}
                    ${isOwner ? `<button class="edit-btn" onclick="editProject(${index})">Edit</button>` : ''}
                `;

                projectGrid.appendChild(card);
            });
        }

        function addProject() {
            const title = document.getElementById('project-title').value;
            const date = document.getElementById('project-date').value;
            const tags = document.getElementById('project-tags').value.split(',').map(tag => tag.trim());
            const link = document.getElementById('project-link').value;
            const imageUrl = imageUrlInput.value;
            const imageInputFile = imageInput.files[0];

            if (title && date && tags && link && (imageUrl || imageInputFile)) {
                let imageSrc = imageUrl;
                if (imageInputFile) {
                    const reader = new FileReader();
                    reader.onload = function (event) {
                        imageSrc = event.target.result;
                        saveProject(title, date, tags, link, imageSrc);
                    };
                    reader.readAsDataURL(imageInputFile);
                } else {
                    saveProject(title, date, tags, link, imageSrc);
                }
            } else {
                alert('Please fill in all fields and upload an image or provide an image URL.');
            }
        }

        function saveProject(title, date, tags, link, imageSrc) {
            projects.push({
                title,
                date,
                tags,
                link,
                image: imageSrc
            });
            saveProjects();
            renderProjects();

            // Clear form inputs
            document.getElementById('project-title').value = '';
            document.getElementById('project-date').value = '';
            document.getElementById('project-tags').value = '';
            document.getElementById('project-link').value = '';
            document.getElementById('project-image-url').value = '';
            document.getElementById('project-image').value = '';
        }

        function deleteProject(index) {
            projects.splice(index, 1);
            saveProjects();
            renderProjects();
        }

        function editProject(index) {
            const project = projects[index];
            document.getElementById('project-title').value = project.title;
            document.getElementById('project-date').value = project.date;
            document.getElementById('project-tags').value = project.tags.join(', ');
            document.getElementById('project-link').value = project.link;
            document.getElementById('project-image-url').value = project.image;

            // Remove the project and allow re-adding it after edit
            projects.splice(index, 1);
            saveProjects();
            renderProjects();
        }

        function saveProjects() {
            localStorage.setItem('projects', JSON.stringify(projects));
        }

        renderProjects();
    </script>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script>
        AOS.init({ offset: 0 });

        function hamburg() {
            const navbar = document.querySelector(".dropdown");
            navbar.style.transform = "translateY(0px)";
        }

        function cancel() {
            const navbar = document.querySelector(".dropdown");
            navbar.style.transform = "translateY(-500px)";
        }
    </script>
</body>
</html>
